{"version":3,"sources":["components/Graph.js","components/Colorbar.js","assets/icons/level.svg","components/Map.js","components/Navbar.js","components/TimeSlider.js","config.js","assets/icons/logo.png","App.js","reportWebVitals.js","index.js"],"names":["DyGraph","props","graphRef","useRef","console","log","useEffect","Dygraph","current","url","title","ylabel","xlabel","gridLineWidth","ref","Colorbar","context","useLeafletContext","L","Control","extend","onAdd","map","img","DomUtil","create","src","colorbar","style","width","onRemove","control","opts","container","layerContainer","position","addControl","removeControl","icon_level","icon","iconUrl","marker_level","iconSize","Map","dataurl","config","forecast","timestep","tileurl","cycle","forecasts","elev","layers","type","folder","setUrl","MapContainer","center","bounds","latLngBounds","latLng","south","west","north","east","zoom","scrollWheelZoom","minZoom","minzoom","maxZoom","maxzoom","height","LayersControl","BaseLayer","checked","name","TileLayer","attribution","zIndex","stations","station","Marker","Lat","Lon","Popup","maxWidth","Tooltip","ID","Name","Organization","tms","opacity","ScaleControl","metric","imperial","BasicNavbar","sitename","navbar","setForecast","cycles","handleChange","e","newstate","target","date","value","replaceAll","Navbar","bg","expand","Container","Toggle","Brand","href","alt","branding","Collapse","id","Nav","className","Link","NavDropdown","Item","Divider","Row","Col","Form","min","defaultValue","placeholder","onChange","Select","item","selected","TimeSlider","setTimestep","steps","timestamps","max","length","starttime","time","endtime","useState","index","step","App","platformStatus","setPlatformStatus","platformStatusUrl","fetch","then","response","a","json","data","ok","error","message","statusText","Promise","reject","catch","errormessage","toString","fallback_forecast","selectedforecast","setSelectedForecast","available","lastforecast","manifestUrl","payload","Alert","variant","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.af123e07.chunk.js","sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport Dygraph from \"dygraphs\";\nimport \"dygraphs/dist/dygraph.min.css\";\n\n// Check if an url exists\n// async function exists(url) {\n//     const result = await fetch(url, { method: 'HEAD' });\n//     return result.ok;\n//   }\n\nfunction DyGraph(props) {\n  const graphRef = useRef();\n  console.log(props);\n\n  useEffect(() => {\n    new Dygraph(\n      graphRef.current,\n      props.url,\n      {\n        title: props.title,\n        ylabel: \"Water level (m)\",\n        xlabel: \"Datetime\",\n        gridLineWidth: \"0.1\",\n        // valueRange: [0, null],\n      }\n    );\n  });\n\n  return <div ref={graphRef}></div>;\n}\n\nexport default DyGraph;\n","// https://www.anycodings.com/1questions/1902754/react-leaflet-v3-custom-control\nimport { useLeafletContext } from \"@react-leaflet/core\";\nimport L from \"leaflet\";\nimport { useEffect } from \"react\";\n\nfunction Colorbar(props) {\n  const context = useLeafletContext();\n\n  L.Control.Colorbar = L.Control.extend({\n    onAdd: function (map) {\n      var img = L.DomUtil.create(\"img\");\n\n      img.src = props.colorbar;\n      img.style.width = \"75px\";\n\n      return img;\n    },\n\n    onRemove: function (map) {\n      // Nothing to do here\n    },\n  });\n\n  L.control.colorbar = function (opts) {\n    return new L.Control.Colorbar(opts);\n  };\n\n  useEffect(() => {\n    const container = context.layerContainer || context.map;\n\n    const control = L.control.colorbar({ position: props.position });\n    container.addControl(control);\n\n    return () => {\n      container.removeControl(control);\n    };\n  });\n\n  return null;\n}\n\nexport default Colorbar;\n","export default __webpack_public_path__ + \"static/media/level.610b15a1.svg\";","import React, {useEffect, useRef} from 'react';\nimport {\n  MapContainer,\n  TileLayer,\n  LayersControl,\n  ScaleControl,\n  Marker,\n  Popup,\n  Tooltip\n} from \"react-leaflet\";\n\nimport { icon, latLng, latLngBounds } from \"leaflet\";\nimport DyGraph from \"./Graph\";\nimport Colorbar from './Colorbar';\n\nimport marker_level from \"../assets/icons/level.svg\";\nconst icon_level = icon({\n  iconUrl: marker_level,\n  iconSize: [24, 24]\n});\n\n// Main component\nfunction Map({dataurl, config, forecast, timestep}) {\n\n  console.log(\"From Map container\", config, forecast, timestep);\n\n  // const ref = useRef(null);\n  // const waterLevelsUrl = props.forecast.url + '/' + props.forecast.folder + '/' + props.forecast.branch + '/waterlevels/'\n  // const waterLevelsUrl = props.forecast.url + '/' + props.forecast.folder + '/forecasts/elev/tiles'\n  // const stationUrl = props.forecast.url + '/' + props.forecast.folder + '/forecasts/elev/stations'\n  // const layerUrl = waterLevelsUrl + props.layer.folder + \"/{z}/{x}/{y}.png\";\n  const tileurl = dataurl + '/' + forecast.cycle + '/' + forecast.forecasts.elev.src + '/' + forecast.forecasts.elev.layers[0].type + '/' + timestep.folder + \"/{z}/{x}/{y}.png\";\n\n  console.log(tileurl);\n\n  const ref = useRef(null);\n  useEffect(() => {\n    if (ref.current) {\n      ref.current.setUrl(tileurl);\n    }\n  }, [tileurl]);\n\n  return (\n    <MapContainer\n      // key={props.forecast.date + props.forecast.cycle}\n      center={config.center}\n      bounds={latLngBounds(latLng(config.bounds.south, config.bounds.west), latLng(config.bounds.north, config.bounds.east))}\n      zoom={config.zoom}\n      scrollWheelZoom={true}\n      minZoom={config.minzoom}\n      maxZoom={config.maxzoom}\n      style={{ width: \"100vw\", height: \"100%\"}}\n    >\n      <LayersControl position=\"topright\">\n        <LayersControl.BaseLayer checked name=\"OSM - Standard\">\n          <TileLayer\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            zIndex={1}\n          />\n        </LayersControl.BaseLayer>\n\n        <LayersControl.BaseLayer name=\"ESRI Satellite\">\n          <TileLayer\n            attribution=\"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community\"\n            url=\"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\"\n            zIndex={1}\n          />\n        </LayersControl.BaseLayer>\n      </LayersControl>\n\n      {\n        forecast.forecasts.elev.layers[1].stations.map( (station) => (\n          <Marker\n            key={station.ID}\n            position={[station.Lat, station.Lon]}\n            icon={icon_level}\n          >\n            <Popup maxWidth={\"80%\"}>\n              <Tooltip>\n                Station ID: {station.ID} <br />\n                Station Name: {station.Name} <br />\n                Longitude: {station.Lon} <br />\n                Latitude: {station.Lat} <br />\n              </Tooltip>\n              <DyGraph\n              url={dataurl + '/' + forecast.cycle + '/' + forecast.forecasts.elev.src + '/' + forecast.forecasts.elev.layers[1].type + '/' + station.ID + '.csv'}\n              title={station.Name + ' - ' + station.Organization}\n              />\n            </Popup>\n          </Marker>  \n        ))\n      }\n      \n      <TileLayer\n        url={tileurl}\n        tms={true}\n        opacity={1}\n        zIndex={10}\n        ref={ref}\n      ></TileLayer>\n\n      <Colorbar \n        position=\"bottomright\" \n        colorbar={dataurl + '/' + forecast.cycle + '/' + forecast.forecasts.elev.src + '/' + forecast.forecasts.elev.layers[0].type + '/' + 'colorbar.png'}>\n      </Colorbar>\n      \n      <ScaleControl\n        position=\"bottomleft\"\n        metric={true}\n        imperial={true}\n        maxWidth={200}\n      ></ScaleControl>\n    </MapContainer>\n  );\n}\n\nexport default Map;\n","import Container from 'react-bootstrap/Container';\nimport Nav from 'react-bootstrap/Nav';\nimport Navbar from 'react-bootstrap/Navbar';\nimport NavDropdown from 'react-bootstrap/NavDropdown';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nfunction BasicNavbar({sitename, navbar, forecast, setForecast, cycles}) {\n\n    console.log('From navbar', forecast);\n\n    const handleChange = (e) => {\n        const newstate = {...forecast};\n        switch (e.target.name) {\n            case \"forecastdate\":\n                newstate.date = e.target.value;\n                newstate.folder = `${e.target.value.replaceAll(\"-\",\"\")}${forecast.cycle}`;\n                break;\n            case \"forecastcycle\":\n                newstate.cycle = e.target.value;\n                newstate.folder = `${forecast.date.replaceAll(\"-\",\"\")}${e.target.value}`;\n                break;\n            default:\n                break;\n        }\n        \n        setForecast(newstate);\n    };\n\n    return (\n        <Navbar bg=\"light\" expand=\"lg\">\n        <Container>\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n            <Navbar.Brand href=\"/\">\n                    <img alt={sitename} src={navbar.branding.icon} height=\"35px\"/>\n            </Navbar.Brand>\n            <Navbar.Collapse id=\"basic-navbar-nav\">\n            <Navbar.Brand href=\"/\"><b>BandSOS Platform</b></Navbar.Brand>\n            <Nav className=\"me-auto\">\n                <Nav.Link href=\"#home\">Home</Nav.Link>\n                <NavDropdown title=\"Platform\">\n                    <NavDropdown.Item href=\"https://github.com/bandsos\">Codes and Data</NavDropdown.Item>\n                    <NavDropdown.Item href=\"https://github.com/schism-dev/schism\">Model</NavDropdown.Item>\n                    <NavDropdown.Item href=\"#status\">System Status</NavDropdown.Item>\n                </NavDropdown>\n                <NavDropdown title=\"Risk and Vulnerability\">\n                    <NavDropdown.Item href=\"#\">Layers</NavDropdown.Item>\n                </NavDropdown>\n                <NavDropdown title=\"Important Links\">\n                    <NavDropdown.Item href=\"https://www.bwdb.gov.bd\">BWDB</NavDropdown.Item>\n                    <NavDropdown.Divider />\n                    <NavDropdown.Item href=\"https://www.ird.fr\">IRD</NavDropdown.Item>\n                    <NavDropdown.Item href=\"https://lienss.univ-lr.fr\">LIENSs</NavDropdown.Item>\n                    <NavDropdown.Item href=\"https://www.legos.omp.eu/\">LEGOS</NavDropdown.Item>\n                </NavDropdown>\n                <NavDropdown title=\"About Us\">\n                    <NavDropdown.Item href=\"https://www.spaceclimateobservatory.org/band-sos-bengal-delta\">Project Detail</NavDropdown.Item>\n                    <NavDropdown.Item href=\"#people\">People</NavDropdown.Item>\n                </NavDropdown>\n                <Nav.Link href=\"#contact\">Contact</Nav.Link>\n            </Nav>\n            </Navbar.Collapse>\n            <Row>\n                <Col>\n                    <Form.Control \n                        type=\"date\" \n                        name=\"forecastdate\"\n                        min=\"2020-01-01\"\n                        defaultValue={forecast.date}\n                        placeholder=\"Forecast Date\" \n                        onChange={handleChange}\n                        />\n                </Col>\n                <Col>\n                    <Form.Select placeholder='Cycle' name=\"forecastcycle\" onChange={handleChange}>\n                        {\n                            cycles.map( (item) =>\n                               {\n                                    if (forecast.cycle === item) {\n                                        return(<option key={item} value={item} selected>{item}Z</option>);\n                                    } else {\n                                        return(<option key={item} value={item}>{item}Z</option>);\n                                    }\n                                    \n                               }\n                            )\n                        }\n                    </Form.Select>\n                </Col>\n            </Row>\n        </Container>\n        </Navbar>\n    );\n}\n\nexport default BasicNavbar;","import { useState } from \"react\";\n// import { useEffect } from \"react\";\nimport { Container } from \"react-bootstrap\";\n\nimport \"./TimeSlider.css\";\n\nconst TimeSlider = function ({forecast, setTimestep}) {\n    console.log(\"from timeslider\", forecast);\n    const steps = forecast.forecasts.elev.layers[0].timestamps; \n    const min = 0;\n    const max = min + steps.length - 1;\n    const initindex = 8;\n    // TODO Fix const initindex = steps.findIndex( (step) => step.time === forecast.date );\n    const starttime = steps[0].time;\n    const endtime = steps[max].time;\n\n    const [index, onChange] = useState(initindex);\n    \n\n    // To create a bubble and move with the slider\n    // useEffect( () => {\n    //     const buble = document.querySelector('#buble');\n    //     let newloc = Number(((index - min)*100)/(max-min));\n        \n    //     if (buble) {\n    //         buble.style.left = `${newloc}%`;\n    //     }\n    // });\n\n    return (\n        <Container>\n            <div className=\"timeslider-parent\">\n            <span id='starttime'>{starttime}</span>\n            <div id=\"timeslider\">\n                <input \n                    type=\"range\" \n                    id='range' \n                    className=\"slider\" \n                    min={min} \n                    max={max} \n                    value={index} \n                    onChange={ ({target: {value: step} }) => {\n                        onChange(step); \n                        setTimestep({folder:steps[step].folder});\n                    }}/>\n                <div id=\"buble\">Currently viewing: <b>{steps[index].time}</b></div>\n            </div>\n            <span id='endtime'>{endtime}</span>\n            </div>\n        </Container>\n    );\n}\n\nexport default TimeSlider;","import logo from \"./assets/icons/logo.png\";\n\nlet config = {\n    \"sitename\":\"BandSOS\",\n    \"dataurl\":\"https://bandsos.github.io\",\n    \"map\":{\n        \"mapcenter\":[22, 90], // [lat, long], Bangladesh\n        \"bounds\":{\n            \"east\":85,\n            \"west\":95,\n            \"south\":20,\n            \"north\":24\n        },\n        \"zoom\":9,\n        \"minzoom\":6,\n        \"maxzoom\":10\n    },\n    \"navbar\":{\n        \"branding\":{\n            \"icon\": logo\n        },\n    },\n    \"cycles\":[\"00\", \"06\", \"12\", \"18\"],\n    \"fallback_forecast\":{\n        date: '2022-10-01',\n        cycle: '00'\n    }\n}\n\nexport default config;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAABQCAYAAADRAH3kAAAACXBIWXMAAAZAAAAGQAFyGRpFAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAH7BJREFUeJztnXlAVdX2x7/73InLZZ4EQUWcxxxBUQQURM0BLKmnpkIOmc9er+HVy5Kuadr03s+0fJoiWmpJJpgjoExqmKA554AiIDJPMt3prN8fyPVOgKmIWJ//7l777L3O2euePZy112ZEhNaCTdrqCoGmL8D3A+N6AXw3MM4ORLYg2IHBDIQ6MFYLEA8gD8BNgGWB0Q3w3EnwygzaM7+m1W6ijcMepwGw0K8toDAbDY4FAhQIoMcjKFYN0HmAHQFxMRDLjtPOaZpHUO6fghY3AMbAELzRF4wLA+F5AOYtWiFQCCAGPL6h2PD0Fq6rzdNiBsBCo6VQVc4H2GsAPO7jEh6gGwB3BqBzIFwHuGIQXwgRK9XLqdHYgglcAHIBT53A2DMABgBwMyjzBEBfQWT1A+2cpnw0d/Z08cgNgE3eYA5OtACgf4HBuZnsN0A4BCAOYvUR2jm/4qHqnvqtE0g9BuAnACwIgONdURbAPsCA7O0UEcE/TB1PG4/UAFjw5ufBaDWA9k1kKwfhewi4SNo15+Qjq9xQF7mcw+mOo8EoHIQQMJgBOANib1FMWEJL1dvWeCQGwJ7b1Ak8WwtgYhPZroHRSgitdtDOabW6gsB3A63VUvQjHv2IwYMBTuDhAAZHABoQqgAAHCsmUD6I5YLDJVJyp1NWHLzdrH4T19lCZDYPoDdR/1aIhEj95sO+cZ4GHtoAWMjmmQCtA2DRSJYrIKxARc52SoxQA8AQ+WRzGer8GE/jAIyF6dlALYAsEHLAUAGgHAwEEAeesyFGtgxwBSAFsZMM2CfQ8AcSViQUNKpr0LcyyFQLQHgXgALE5lJM2KGHegBtnAc2ADZhjQRi2adgeK2RLLUAPoXI8uOGAZi/PHAk8QgHMA3GBnOWgeJ54CR4wa/JHx26cT96DFkwRCRtb9OZ07Ah4ODDCBIAqVWc9If0iD0m1wdYSJQNiJeD4VUw9gWeyX7vzzo2eCADYKFRzlDxsQA8Teeg/YBgEe2ek8Xkcs5PkxpKjHsfoD4GGc8SWCTHCWITIw5k/WFFGsFfPq4rz/PPMuJVTKDZkxiRmGvyPoI3e4FRJBguolo0hw69VP2odGgr/GEDuNvfJwDoakKsBGNv009hXwKAX8TYEICWA+itk4cHYzuJadYkRxw+/sCa3yejlwZ58UxjJVTjrKnugU3eYA6B8CsAfaFSjKW9C8taWqcniT9kAGxKZA9wiAfQwYQ4BxwfSrvmpvnIAzsKeFoLsEl6OQh7CHg/eVn8uYdT+48z5v0xnZQiTuBywfbmzp07jVYKWXDkLIAtBCeYSD/NKnnc+rUW920ALGRLF0BzDEA7E9IMiDCedoYV+S4NDGcMq6Hfx99gHOYnRsS3+vSrfsahrk6MSFQbytjUzb4g/iNoNFNpz/zi1tDvcXNfBsCmbrUHqY8D6G4sRArqJJP8vDYqwYvWEuhlHSmBsTWSavbeoc8OtYn+lU3Z2B8ctwSK6lm0f7GitfVpaZo1ABYWZYYyPgEMI4yEhIMQW0717rPRUsTz+wAM0ZFWEeHl5GXxOx+tyi0Pez6qJzT8PNod/mZr69LScM3mqOC/Ntn4wAnw6udGd/+fnYjnk6Hf+NlE8G6LjQ8A9OOc3wH6gU2NXNTaurQ0Tb4BWEhkKIAfTIiuQcS8R3f/zlwj4I5A/2NPpkDDjzm8/PDNR6zrY4eFbBoDjiujXWGnWluXlqLRNwAL3twBYP8zIaoAT+MDPLYrNQLBPug3/hWBhvd9GhofAGj3y4fBU1cWGi1tbV1aisa7AIZNANkap9Mr0ySHbigl2GawsFNCPJt4ePnhWy2gZ+sxIOdHaCpHt7YaLYVJA2Ahm4LveuwYEkU/vfx9Ya+yzxjwrE66kjhuavJHcVdbRs3WgyIieKg0J9hzGw19DZ4KjAyATVgjAfC5ibxZENUt9pcHBgB4XU9C9HZyxKGUllGx9aE984uh4psfMLdBjG/KTPYawLqYyPuWX59oIfHYBIDdS2bxyR8dXtNiGj4p/Dw/h02JtGxtNR41egbAwqLMQHjLRL4jtDt8F5HwEwAdddLL1RzmUGu6Fj8miEDYE17V2no8avTfAGU0E4CTQR4exL3uLw/qCUK4noToo6MRcXktq+KTAxGeOkPXGgBjYGD0T6McDLEUM+cc8ZpPAQh1JNfNy8VfPQYd/6IF0S4EsakbA0FcnFEOYiP8+3+v4Bmv52JNoJnJ8oRtj0fNv2gpdLoA7m9GUsIxigk7TowW6wtYbnV+eZtc5v0LfTgAYAs2iECYYiRltD7gvQB7AoXqJ9Pq9PXpqsek41+0IPV9erFgLAA7PQmhDmLNHo2QhQHQXQrVCDT07WPT8Akhe8eO1xUlJeKG3xYeHkdcJkxo8zuP6g2AZxOMJIztp53zK3wjooOZvuBIwop4rWvV1dWrt9+5dMnkIolAKlUysbha5uqaa+Hldbidl1faI9X+MZL7448Lb/30k9YfYvDXX78LwMgAcmJigstSUoJr8/O7a2prHcAYOLH4DhOJKsU2NrelnTpdsR0w4HS7gIADAP7wbqX8AwccncePL2oiizgrKurVkrS0UcrSUndSqy3AmIYTiysFEkmFxMHhpqx79yuWAwYcdfL0/KVhVG/8uZfx0T7/nmgrEBvKKFr3V2Fi4oi82NiOaAbzDh0i3KZOPezy/POLnEaOvN7snbY9BL+vWrXpyv/933RFQYGoqYwyd3eM3LdvmFXv3if0BBkZoqMffjiz6vLlYFKre6gVCksmFJaJrKx+tR88eNOQqKhjpenpTllbtrzjMHv2kq7jx+s5rJSnpblf37p1242NG715VdM9tPusWRecPD37CtmEbVaQoK9RDqZJForqgghMqJfMCeObeRAmqcnJEV1ZvXqcRqH41mnkSF8ARi5ZbZmrq1evvBARMZtXNv+n1tTVGaVlhIcPKkxJWVuVmTlc6upawEkkuZxAwCkKC3vVZmf3qbp69aXqrKxPfZOS3v8lJCTj5ocf7ugqlYbCz6/hObKsHTsiM9et874ffTW1tTwACCFWDgcgMLwf2jX/tt+HPw6H/iLfjebctzvPnXvOwt39LE8ERUEBV5yaOrr8zBmtH+HN777zbvfss8GuEyf+eD+KthHEhYcPT9NtfKfRo6/ZDhqUKLS2Lubr6mTKsrJ2qspK96Lk5IGkUol1Lz41b17/nNjY/WIbm8sdXnjhuWHffx8LQFB1+rR1dnS0Y+6+fUsqzp2bXpic/F7y6NHlvkeOfHawR48ZKR9//OYoP79PAKAwLm5K1pYtfg1lMqEQHadPTzN3czspkMkqVRUV9qqysnaKkpI+BXFx2q5MCPD99Jb26y9PBQAQDdJPZifQDEJz8zM9lyx5qeF3zs6dr/z60kvrGh6OuqoKNZmZPQ0ukxXGx48tO3++T11urpumttaaVyplIOIEEkmFxMUl22nkyIMO/v7JpurMior6UJGXpx2HWA8a9LPzuHGns7duXViakTFMXVlpLbS2LrEdOjS504wZmwHTK3qFR496lKSkvFKTldUVAJO6umY7jhgR5RgQcLqpey4/fXpYyS+/uDf8thk4sKLv8uWT7IcP/90wb9GxYz7lp07NYFJpOQAgI0OUn5DwrWXXrj93+vDDvxdt3ux/oFu3OFVFhbeqstJMYm9fKLa3P+A8ZkxMfkJCcElamvzc4sUHbQcO/KYoKemroujorxynTasqSU8foqqo0DZkx7/97RfPLVt8ARj2BaLbBw6EqsrLfQBACDB3GEJ8BpPLOV/gGd1kxtOFph6EKaSdOl0WWlhAWXpvhzcnEum9J7MiIxefWrx4paam8UAf111d33QPD9/rOmdOmK2Hh96evrzY2Nm3YmK09zFy3z7R6UWLvri+caOP7r9SaGk5szY7O6Dnv/89AwZGcGPLltCbkZGfF6Wk6Lm82/TvP8NjwYKVTd2jqrzcWVVxTyWhTKYisdjkvkPHESNSHUeMSG34nbx06UzOzKx4zCefLExeuXJhcXLyF7xCoR1D1OblOdXm5c1WlpUVMo6DprZWWnDs2PQBa9Z8fDs+3u7q9u1BjtOm7VLX1Mh06+EkkhqY7mZVLuPHbwOwDQCEYKb27nOZI3DMGYDe1y/GcKmpBwEAQisrMe56CRUeP941Lzr6dd3Gt+rRo8qqb1+9cYRGrdboNT5jEJqbQ119z5G49tYt0aXly0MAqGyXLXuhKR1u790bnrluneE3Dajv3OEuffzxC1IXl6Od5sz5Wpv/0KFB19et+7L0xAkjl/fys2ftr3zxxTKZh0ejHsIiJ6fL0vbt1dU3bwoBoPjoUYcry5fHFQ0cGG8zdGiGy/jxBwGY3GugLiub0H7y5FdPfPONT0lq6ue6ja9LbW6u9n6UVVX9HEaMuCO2tMyuyc3tC2CXmYODXgyFnB07/DmOi7fo1SvVxssrzWn48GQARoMPIQB3o9qE7LpYw1x4pv+mJA7Nevtc37AhNHv79lAAUJaWQlVerpWZd+yo6LJw4VeOo0bpvVIFQqHA7bnnLlh2754idXe/IXNzK2YyWbGysNCtJC0t6PrXX0/R1NUBRMjZsWOS26RJA2yGDv2tMR0y161zsvP0vGU3eHAqz/MWudHRQcrSUhEAqKuquOLjxyfoGkDBwYMf6Da+UCYj99mzD0qcnM4rS0u73vzuu0lVCQmNRjax6dPnrKOf36nqLVu0W+VuxcT0vRUT05cTi2E7cGClRffu5y27dDlh6+0d6xwYqO3KbHr3vtX/k08uH+jZ87+a2lqxQCpVa2prhaZrqocRcQBAPG/Fq1TWAOAweHCsVZ8+b1VeuGAFAOrqai5zw4YxAMaIbGxg5+l5W9ax42nrfv1+dfPxiTIbOPAmUG8A1gbla8DJbmoEFMAMtkvyaq7RnbcNKAoLoSgsNEoXWlqix7vvnhF37BhtKGsXFPSde3j4f2BiXtxh2rT1dTk5v+VER/cDgKpr16Sl6elBTRmAnZfX7T5LloQ4T5p0EgAktrZbL61apR2XKEpKtP4O1YWF7UqOH/fXvb7bP/7xQ98VK6bjbjchdXVdd/add15p4rbJaexYecWFC5Fl6el6bxFeqUTJiRNWJSdOeAPwlnbs+IpHePju3vPnz4OLS42Dt3dyeVKSjTI/3x8A2o0deyAvNnaSyVruIra1TT/zxhuedfn5zlJX1wIAsPXxOdtl3ry1Fz/++C1FYaHeIFNVXo6CuDgXAC4AJmQPG7aw48yZ/+26aNEnQoBJDbrDato5Tem/9Bs7MhgbckLlnaYUAwBZ584KiaOjAgDq8vMta/PyGKnVUN+5g9OvvurpOGrUj4Kamumu06b90nCN1NU1t/b8+Q65cXHz7mRm9tBUV9tqFApraDRCAKj8/Xe9gBN1hYX2Teng6Oe3v6HxAUDaocN5XTmvUlmhfuRL5cePjy87dUr7JxDb2qL9+PFboPNQ2gcHr86KjJxTefmyWWN1dpo+fb9IJpuaHx//btnJkyNLT560hQk3idrsbOnFZcumM6GwtteSJXM7hYfHnpfLBykrKswkDg53NErlMQCNGoBQJqtx8vKKLkhOXkxEsBsx4kiDrOs//rFEYGV1oygp6eXilJSB1VlZElNllKSltau+eVMusLC4LQTIMFMtABAzmhoA9zF37zhjRmzfjz76NwBU5+bK8vfvH3dt7dq3K8+dcwSAopQUd6t+/d5znTZNe5M3Nm16KWvr1lXFKSlNRRbRQgpFk1665q6uegtNAnNz/f6b5zncNYC6ggIHUt+7LVnnztV2I0fquYFbdu9+RdatW3Hl5ctN+gW2nzLlePspUyZXZ2U5Fx458lLF2bP9FUVFvUtPnOhTlZmpfc7E8yiIj5/ca9EiG9jYlJs5ONQyjoNAKq2QOjhcbKx8TiTSOPr4fFCVk9Ov4vz5MAsPjxMDPv9cL8pK57CwjZ3DwjZW/PrrkPyUlODqzMzedfn5/YqSk7soy8q0bVp3+7ak9Nix6UIAYoN66gCAEcjwDXA/qCsrlQCuA4DMzQ1d5s8/V3PjRtfKc+fmN+S5c+mSFwAzAHU1ly+3z9q6daVu41t06VJjN3ToRXBcDQBUXbnSvTQ9XRtviDeet+ohtrPTe1MJpNLGl8V43mClmwEmpomMsft2BpG5u+d3Dg//rOF3RUbGoBtbtqy8umbN2Ia00pMnHYvPn/dxGDny566LFl36fdWqW6rycif3F188WZSaeq46K6ufXpkeHqnOEybsLU1L61B5/vxKTihUW3t5vduYDtaenunWnp4NS9WC/D17pl5Zs2ZZQUKCdgquKCrqygEwnHspAYCvD8yoB68SP5BPHBOL9RqkJjvbDgqFKwDkHzv2YnFKiqtW8b59ywZ/+WWw144dQ722bfP12rbNV+bh0WKu5lJn52ImuLcOVp2VJStJS9Ob/ioyMz2qMjMdjS6+h2X5yZMDGhNaDx58yi00dI3Q4t5+WVKpQGp1w8CSN3Ny2q26c0d84YsvZtoNG/aayMqqsiEvEwg0pFAMuP7115+Upae/DsZ4Bx+ft4dv3aodTJalp/etyM42duOvR+M8eXK0w4gRe/VSiYQcAMP98FYAAAEz2h0r4FRWjd1kY9SdPt2p8vz5AN00Sbt2dyCRFAOAorBQ7yukRY8et5wmTNBOE4v27h1Zdvq08abUR4SNj89BmwEDtAaqLClBwYEDs3Tz3IyJea3y4sVG+38A9pc++yz5zFtv7cjZs+dFGK+sovzMGX911T2XQqmbm1ro7Kx93duPH/+5yM6uoOK3396WWFsXOk+aNMGia9dfGMeBNBpBza1blgBg2aVLhsvEiSE+Bw+u1S2/5MSJyecWLDh9cdmyL0uPHRtmQkdJTX7+QN0ETiotFgIoB9BJJ90WADiwPEMXOJ5x7QE0uRhUdfXq0PSwsL0AoFGprKquXetuOL+26ds3A0AFAJg5OOgZYHFqavfM//3vc3svrz2Vly4NvPntt/Orrl5tMW9ccweH2/be3kllGRnaMcmV1aunKysqLMxcXM7VFRZ2y96+/bnmyqk4c0aWGx39onD9+heyfX1Xih0crgllsiICOFVFhXv+gQN6q6p2w4efs+3ZUxsnYeDy5TerL16cW5iQsCM3JibWOTBw9virV73PLV06uPzMmW5UXU323t7X+yxb1lhkNbp98GCn2wcPLr6+adMCe0/PqyJr6+tCc/NKtUIhVRQU9L29d6/eH8nCw+O0EMYLFGIWGi0d3oflGQ4O6D4CPt4+cKAHmggBazNwYKGjv/+nDb+thg793tHX959FycmuAKAoLBSfWrjwTYmDw5uKkhKIrKz4DqGhRTk7dzb1Cn4o2gUFrSpOTfUu/+03ewBQVVQIrq5eHQIgBADM3dwUjn5+FUVJSYZTZiPUVVUsb98+d5haX7mLxMlJ5eznt8EwfeRPP+3NmD59fP4vv6zN2bUrsSQjY5esU6f9Vr16XZF16VJ959Il+9/eeGP6gFdf3YWuXRtdmKrNzhbnZmf3AWAYkkeLo49Prn1Q0H84EK4YSVU17Y9HHCyFgXEwsAeK7cs4Djb9+1d5LFwY1/3dd1/s8MILWt9D+2eeudVp5swIm/799epSFBdD0q6dstcHH2wQSCR/eAn6j9D+2WePd1u8+C07T0+jdQ6Lbt3u9HjnnZViO7um1kAqXSZOPOw0enQ+JzE589Li6OOT3/uDD5a6z5tnat8lBm/ffvTZzZuHOAcGvswJBHz11avzc3fv/jxz7Vp5xYULg6wdHA6banyhre3FDjNmHLMZMKDq7kDWJJxEgg4vvni2yyuvzHUZNeqSEBy7ZDRfZXwvAJkAO2WwRWwIDHCZMiXKwdOz0RqFVlYKMze3IvsBA+LM3N2zTOXpPHfuJmnnzmeLjxwJq8vL60JETOzgcMt+2LCf3Z5//qcbUVGLrXr21K6fm3XqpLeS2H7KlC32Q4dqPwaJ7e31HE+ENjZp/Ves+Egrd3HhYDDSdw8Pj7Lq3PlkflLSguqcnO6MiEmcnbPshg//3nXy5ESBTKaxHzxY+1KUOjsf07m89JkvvggCYH5r9+7ny06dGqQqKWnPKxRW6ro6qUAiqRJaWRVbdu9+xWXMmM3mPXo07Urv56f29vP7DsB3TebT1X/69Fj36dNja69dcys8ejS0/OLF7ury8na8SmVJGg3HhMIqsYNDnu2gQRkdX3xxKwAFADAEbxwDMIPQLewd2h32qX9E4CoC3tERVDFObWsqvMpftE04MPE5GM57Wf2uX4LR518LQGhqhPmnoa881HBo1Kbh6KeXCmE4sieMAgDGqeJx91WhFRGNf2zaPYG41JY9VbEC6vtNRoZuXu7s+c0eiRGJVQDT3/VLbOpj0u2JpFbKZM3najvUGwAxYz8/DQIAgBHtMZD09FsaMLTFNXsC8Zf7O7M6cW3zOdsO9QagUScDMPzSNxEAFALBdhg6EjAW9hh0e+JgGlGP1JV7n6pIovWOBfWHLhls9aLxLDTK+e56gOE3/Nn+cn+Hx6LhEwQJqEl377bIvQ0dDFEGMiGU9DcAII43XLQwJ16wsGVVe7IYvTTIS6Ckxx7itqW5ZwC7w48B0I/xwygMAO4GdU7Uv5S9EfBeQJOOGU8TGkZDmjqLoK2iNQAiEOpj/OrSj4VEjgcAjtgHBjIbtYgtaWkFnwT8lgYMB4f7Or+graG/p6+ueiOYgeMnsaUAcGRZ3DEQ9htc//fRS8c9g6ccxtiU5Ig4w3t/KtAzANq/WAGiz/RyMBrGQiLHAoBGQP/EXZexu4h4ptkYGhpq9P37aWF0ROBzBN7khpSnAeNdvSKrDQByDFJXMn+5MDUi4QojLDOQDSnsXbq0pRRsTUbIg5x4wqwk+eEDra1LS2FkAPUnepHhOUCDYNuhPk2g/hyAfuxcYu/7RQSYCizZphERrSbg/dbWoyVpNFg0C9kUAzDdqCE1ELB+9GPYdX/5uK7Ea04CsNGRl2g48k6NSDD2L2iD+EaMXQSQTbI8fkVr69KSNB79krjF0F8dNIeG1rPQaEFixMFrxLEXAOgevWIv4NnBgCUBJk4UaVv4ywPGMdDs6vyyT5vP3bZp1AAoJiwHwFyD5ACoqj4EgOSIuLiGGYIOndVCFj9CHmS0L6+tMEo+ZhDxbL2Go5l/hjhITca/pd3hOwG21iB1CZu6cSoAJC2L+5iBvjC4rJ+I55NGysfe1yaPJ4nRS4O8OJ7bzxGb9bR0Zc3RfABkkcWbAHQdQxiIi2QhUQMAIGnZ4bfB8LXBVb2EPKX5y8c26iv/pOEvD/TjGR8HsLePLItLZiFRNs1f1fZp1gBo5zQleH4KoOc8ag3wcSx4c28iomR5wt/B2H8MLu1APB31jQhociv3k4BfROBC4rGPEXszSR73LZu6sReclG3ikKuH5f6PjZu8oSMEwqPQPzMwDzz5UuzL1wDANyJgAavvMgy3N38rUmBx/Kr4J+qw5qC3g2RKc349AaGMaFbisoTv2ZSN/QHuBsWGN7sR9mngvmPg05752eARCED3g0h7cOwoC9nkCQDJ8oT1xLFnARjuKnpJJcEZX/lY43B0rYS/PGCcwpw/S0AQcWxi0kcJP7CQyLHQqHL+LI0PPMjRsZM3dgbH7QeDbpwfBcDCaHfYDqDec4Y0wk1gMNHgLJ7n+LdSIhLOPoziD4q/fLw7ePUqAl4AkEYaLjTl1MRCmMmeR53kZ9o/o7LZQp4iHuzw6Klb7cGrYw2Ok+NBtBLtNHJaP1/FGGO+SwNeAbAKDfsN76FhwI9EtDppWcIveAz4fjC2G+Po3wBmAiAGfHYnv0yeUbDIGRwfiLLcrQ3H2/+ZePDj48OizFBOXwEUbiBKh4B7qf7svfr1dCHxckaYC+OxAQD2KyN8A4EqJjEi8ZEe1+ov9zeDRhBMjJsF0FgAAgKSwWNhyvL43xEcGQ4wMe0OW/co621LPLABaAuYumkaiFtvcMJYDcDkUFStbjh+dZQ8oLeAZ0sJeA4mDQFqEJKIsb0CYmmVBSWnHmQhZswHY7qoORbAiAsAo0DcC4GTzjhakfTh4VgER3mANG9BwG+hXXPbbPjaR8FDGwDQMEMQbTRx0tgNAO8iJjy64bSN+pPF8XfUrzI2tp8dAOoAdhYM1wmUBWK5ILrDGGv4HC0E8bbEmC1j6EiEPqz+mHrdMjUAi+NAq4/I4w+xKRvbgeP+BZACIquP6j98/bl5JAagLSw4MgSMPjM+dIplgPj/oJ0mmtbPVwH1O2zsUR7AiJ8GYlPQtDH8ETQAToHoe14j3JGy4uBtFrrZEWr8C8R7gQRLKGZOarOl/El4pAYA3D12Tmz+Ohh7A8bnD+WC4Ssw2kG7XtaeLhoaGioo6lPej+cxggMNJ6AfgM4wiFPYCDkA+x2g88SxJA6qlMSIxHIWGi2AsjoIjJ8NwAOEjxEbHvM0nvvzMDxyA9AWHBothbJy1l1DMIzwQQB+BdGP4PkD+HneRVMNU+96LnLjoTHnwJkzHhLioGAarkxDVKlR1uQf/eSods7OQjdYQy3yA0+BYAgBUABGn+KZ3J0UEWEU8uYvWtAAtBXI5RzOuI0FsRcABEPfh6AhVxmIjoNRGsCugONugLjr9NMsk9E1WViUGUp5OwhYT/B8TzDWB8BAAEMBlANsG8CiaPecRmMJ/kU9LW4AepWFRouhrhoLnsaBgw8IfWAino4OaoDdAUgJoBqAFARbMOjG69EAyABRPDguHo6q4w3jjL9onsdqAEaVT9hmBbM6b4D1BrHOIOoMhs4AZACzAkiA+kWkUoDKAFYGUCHArgDsEhhdhFB9jnbOf6K+MbQl/h+7vvtco3eVkwAAAABJRU5ErkJggg==\"","import React, { useState, useEffect } from \"react\";\n\nimport Map from \"./components/Map\";\nimport BasicNavbar from \"./components/Navbar\";\nimport TimeSlider from \"./components/TimeSlider\";\n\nimport config from \"./config\";\n\n// Stylesheets\nimport \"leaflet/dist/leaflet.css\";\nimport \"./App.css\";\nimport { Alert, Container } from \"react-bootstrap\";\n\n// The main application\nexport default function App() {\n  console.log('Site config', config);\n\n  // Load platform status\n  const [platformStatus, setPlatformStatus] = useState({\"available\":false, \"data\":{}});\n  useEffect( () => {\n    const platformStatusUrl = config.dataurl + '/status/status.json';\n    fetch(platformStatusUrl)\n    .then( async response => {\n      const data = await response.json();\n      \n      if (!response.ok) {\n        const error = (data && data.message) || response.statusText;\n        return Promise.reject(error);\n      }\n\n      setPlatformStatus({\"available\":true, \"data\":data});\n    })\n    .catch(error => {\n      setPlatformStatus({errormessage: error.toString()});\n      console.error('Error loading manifest from ', platformStatusUrl);\n    });\n  }, []);\n\n  console.log('Platform status: ', platformStatus);\n\n  // Forecast date and time selection in <Navbar>\n  const [selectedforecast, setSelectedForecast] = useState({\n    \"downloaded\": false,\n    \"date\": config.fallback_forecast.date,\n    \"cycle\": config.fallback_forecast.cycle,\n    \"dataurl\": config.dataurl,\n    \"folder\": `${config.fallback_forecast.date.replaceAll(\"-\",\"\")}${config.fallback_forecast.cycle}`\n  });\n  useEffect( () => {\n    if (platformStatus.available) {\n      setSelectedForecast({\n        \"downloaded\": true,\n        \"date\": platformStatus.data.lastforecast.date,\n        \"cycle\": platformStatus.data.lastforecast.cycle,\n        \"dataurl\": config.dataurl,\n        \"folder\": `${platformStatus.data.lastforecast.date.replaceAll(\"-\",\"\")}${platformStatus.data.lastforecast.cycle}`\n      });\n    }\n  }, [platformStatus]);\n\n  console.log('Selected forecast', selectedforecast);\n\n  // forecast manifest\n  const [forecast, setForecast] = useState({\"available\":false, \"payload\":{}});\n  useEffect( () => {\n    // Updating manifest for the selected forecast\n    const manifestUrl = selectedforecast.dataurl + '/' +  selectedforecast.folder + '/' +  'manifest.json';\n    fetch(manifestUrl)\n    .then( async response => {\n      const data = await response.json();\n      \n      if (!response.ok) {\n        const error = (data && data.message) || response.statusText;\n        return Promise.reject(error);\n      }\n\n      setForecast({available: true, payload: data});\n    })\n    .catch(error => {\n      setForecast({errormessage: error.toString()});\n      console.error('Error loading manifest from ', selectedforecast.url);\n    });\n  }, [selectedforecast]);\n\n  // Forecast layer selection from water level forecast <TimeSlider>\n  const [timestep, setTimestep] = useState({\n    folder: selectedforecast.folder\n  });\n  useEffect( () => {\n    setTimestep({\"folder\":selectedforecast.folder})\n  }, [selectedforecast]);\n\n  return (\n    <div id=\"wrapper\">\n      {\n        platformStatus.available\n        ? <div id=\"header\">\n          <BasicNavbar\n            sitename={config.sitename}\n            navbar={config.navbar}\n            forecast={selectedforecast}\n            setForecast={setSelectedForecast}\n            cycles={config.cycles}\n          ></BasicNavbar>\n          </div>\n        : <div id=\"header\">\n          <BasicNavbar\n            sitename={config.sitename}\n            navbar={config.navbar}\n            forecast={{'date':'', 'cycle':''}}\n            setForecast={setSelectedForecast}\n            cycles={config.cycles}\n          ></BasicNavbar>\n          </div>\n      }\n      \n      {\n        forecast.available\n        ? <>\n          <div id=\"content\">\n          <Map\n            dataurl={selectedforecast.dataurl}\n            config={config.map}\n            forecast={forecast.payload}\n            timestep={timestep}\n          ></Map>\n          </div>\n          <TimeSlider forecast={forecast.payload} setTimestep={setTimestep}></TimeSlider>\n          </>\n        : <Container>\n          <Alert className=\"\" variant=\"danger\" key=\"danger\">\n            Forecast for {selectedforecast.date} cycle {selectedforecast.cycle} not available!\n            </Alert>\n          </Container>\n      }\n    </div>\n  );\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n\nimport App from \"./App\";\n\n// Importing the Bootstrap CSS\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}